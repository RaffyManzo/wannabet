<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Home - Demo</title>
    <!-- Collega il CSS statico -->
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link rel="stylesheet" th:href="@{/css/eventi-lista.css}">
    <link rel="stylesheet" th:href="@{/css/upcoming-event.css}">
</head>
<body>

<!-- Navbar principale (place holder) -->
<nav class="main-navbar">
    <ul>
        <li><a th:href="@{/home}">Home</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Contact</a></li>
    </ul>
</nav>

<!-- Container principale per le due sezioni -->
<div class="content-wrapper">

    <!-- Navbar principale per le categorie -->
    <nav class="sport-nav">
        <ul>
            <!-- Itera su tutte le categorie ottenute dinamicamente -->
            <li th:each="cat : ${allCategories}"
                th:text="${cat}"
                th:classappend="${selectedCategory == cat ? ' active' : ''}"
                th:onclick="|window.location='@{/home(cat=${cat})}';|">
            </li>
        </ul>
    </nav>

    <!-- Griglia competizioni/eventi per la categoria selezionata -->
    <div class="competitions-grid">
        <!-- Itera su competitionLabels, ovvero la lista di competizioni per la categoria attiva -->
        <div class="competition-card" th:each="comp : ${competitionLabels}">
            <div class="competition-label" th:text="${comp}">Competition</div>
        </div>
    </div>


    <!-- Sezione: Eventi imminenti e relative quote -->
    <div class="scadenza-container">
        <h2>I pi√π giocati / Prossimi Eventi</h2>

        <div class="events-grid">
            <!-- upcomingEventsMap => Map<Evento, List<Quota>> -->
            <div class="event-card" th:each="entry : ${upcomingEventsMap}">
                <!-- Event header: ad esempio "Serie A, 16/4 - 15:00" -->
                <div class="event-header"
                     th:text="${entry.key.categoria} + ', ' + ${#dates.format(entry.key.data, 'dd/MM - HH:mm')}">
                    Serie A, 16/4 - 15:00
                </div>

                <!-- Teams row (placeholder, se hai info su team A e B) -->
                <a class="teams-row">
                    <span th:text="${entry.key.nome}">Team A</span>
                </a>

                <!-- Odds row: per ogni quota di questo evento
                <div class="odds-row" th:each="q : ${entry.value}">
                    <div class="odd" th:text="${q.esito} ${q.moltiplicatore}">1 2.23</div>
                </div>-->
            </div>
        </div>
    </div>



</div>

<!-- Footer semplice -->
<footer class="main-footer">
    <p>&copy; 2025 Demo. Tutti i diritti riservati.</p>
</footer>

</body>
</html>
